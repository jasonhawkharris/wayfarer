{% extends '../base.html' %}
{% block content %}
<div class="ui container">
        <div class="ui grid">
            <div class="four wide column">
                <div class="ui vertical fluid tabular menu">
                    <a class="item" data-tab="my_profile">
                        </h4>My Profile</h4>
                    </a>
                    <a class="item" data-tab="create_post">
                        Create Post
                    </a>
                    <a class="item" data-tab="my_posts">
                        My Posts
                    </a>
                    <a class="item" data-tab="my_activity">
                        My Activity
                    </a>
                    <a class="item" data-tab="my_settings">
                        My Settings
                    </a>
                </div>
            </div>

            <!-- ANCHOR: This is where to add CRUD functionality -->

            <div class="twelve wide stretched column">
                <div class="ui horizontal segments">
                    <div class="ui segment">
                        <h2>{{user.username}}'s Profile</h2>
                        <img class="ui medium circular image" src="{{ user.profile.photo }}">
                    </div>
                    <div class="ui segment">
                        <div class="ui list">
                            <div class="item">
                              <i class="users icon"></i>
                              <div class="content">
                                {{ user.username }}
                              </div>
                            </div>
                            <div class="item">
                              <i class="marker icon"></i>
                              <div class="content">
                                {{ user.profile.hometown }}
                              </div>
                            </div>
                            <div class="item">
                              <i class="mail icon"></i>
                              <div class="content">
                                {{ user.email }}
                              </div>
                            </div>
                        <h4>{{ user.first_name }} {{ user.last_name }}</h4>
                        Joined Wayfarer on {{ user.profile.date_joined }}
                    </div>
                </div>
            </div>
            <!-- ANCHOR: This is where to add CRUD functionality -->

            <div class="ui tab" data-tab="create_post">
                <div class="twelve wide stretched column">
                    <h2>Create Post</h2>
                </div>
            </div>
            <div class="ui tab" data-tab="my_posts">
                <div class="twelve wide stretched column">
                    <h2>My Posts</h2>
                    {%for post in user_posts%}
                        {{user_posts.content}}
                    {%endfor%}
                </div>
            </div>
            <div class="ui tab" data-tab="my_activity">
                <div class="twelve wide stretched column">
                    <h2>My Activity</h2>
                </div>
            </div>
            <div class="ui tab" data-tab="my_settings">
                <div class="twelve wide stretched column">
                    <h2>My Settings</h2>
                    <form class="ui form" action="{% url 'profile' %}" method="POST">
                        <div class="field">
                            {% csrf_token %}
                            {{ updateU_form.as_p }}
                            {{ updateP_form.as_p }}
                        </div>
                        <button class="ui button" type="submit">Submit</button>
                    </form>
                </div>
            </div>
        </div>
        <script>
            $('.tabular.menu .item').tab();
        </script>
{% endblock %}